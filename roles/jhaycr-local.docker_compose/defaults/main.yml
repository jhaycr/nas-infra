---
# Base paths for Docker files and data (overridable by group_vars)
docker_base_path: "{{ docker_home_compose_path }}"
docker_appdata_path: "{{ docker_home_appdata_path }}"

# Template paths and structure (v2 compatibility)
templates_path: "docker"
appdata_subdir: "appdata"

# Template paths and structure (v3)
template_sources:
  - path: "docker/{{ inventory_group_name }}"
    appdata_subdir: "docker/{{ inventory_group_name }}"
  - path: "templates/{{ inventory_group_name }}/docker/compose"
    appdata_subdir: "templates/{{ inventory_group_name }}/docker/appdata"
  - path: "docker"
    appdata_subdir: "appdata"

# Legacy template processing (disable after migration to docker/neo)
process_legacy_templates: true

# Operation control
docker_compose_copy_templates: "{{ DOCKER_COMPOSE_COPY_TEMPLATES | default('true') }}"
docker_compose_start_stack: "{{ DOCKER_COMPOSE_START_STACK | default('true') }}"
docker_compose_show_status: "{{ DOCKER_COMPOSE_SHOW_STATUS | default('true') }}"
docker_compose_restart: "{{ DOCKER_COMPOSE_RESTART | default('never') }}"  # valid values: always, never, auto

# Debug mode can be enabled in several ways:
# - ansible-playbook -e "docker_compose_debug=true"
# - make target DOCKER_COMPOSE_DEBUG=true
# - make target docker_compose_debug=true
docker_compose_debug_print: "{{ DOCKER_COMPOSE_DEBUG_PRINT | default(docker_compose_debug_print_lower) | default('false') }}"
docker_compose_debug_print_lower: "{{ lookup('env', 'docker_compose_debug_print') | default('false') }}"
docker_compose_debug_halt: "{{ DOCKER_COMPOSE_DEBUG_HALT | default(docker_compose_debug_halt_lower) | default('false') }}"
docker_compose_debug_halt_lower: "{{ lookup('env', 'docker_compose_debug_halt') | default('false') }}"
docker_compose_debug: "{{ DOCKER_COMPOSE_DEBUG | default(docker_compose_debug_lower) | default('false') }}"
docker_compose_debug_lower: "{{ lookup('env', 'docker_compose_debug') | default('false') }}"

# File ownership (overridable by group_vars)
appdata_owner: "{{ main_username | default('1000') }}"
appdata_group: "{{ main_username | default('1000') }}"

# Deployment options
compose_start: true