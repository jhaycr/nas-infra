---

services:

  # TODO: https://github.com/vpathuis/multiple-minecraft-bedrock-docker/blob/main/docker-compose.yml

  minecraft-1:
    container_name: minecraft-1
    image: itzg/minecraft-server:2026.1.2
    environment:
      EULA: "true"
      TYPE: "PAPER"
      VERSION: "1.21.10"
      ONLINE_MODE: "false"
      VELOCITY_ENABLED: "true"
      VELOCITY_SECRET: {{ secret_minecraft_velocity_secret }}
      SERVER_NAME: HomeSurvivalSafe
      MODE: "survival"
      DIFFICULTY: "normal"
      MAX_PLAYERS: "16"
      PLUGINS: |
        https://hangarcdn.papermc.io/plugins/ViaVersion/ViaVersion/versions/5.6.0/PAPER/ViaVersion-5.6.0.jar
        https://hangarcdn.papermc.io/plugins/ViaVersion/ViaBackwards/versions/5.6.0/PAPER/ViaBackwards-5.6.0.jar
        https://hangarcdn.papermc.io/plugins/ViaVersion/ViaRewind/versions/4.0.12/PAPER/ViaRewind-4.0.12.jar
    networks:
      - minecraft
    volumes:
      - {{ docker_appdata_path }}/minecraft-1:/data
    restart: unless-stopped

  minecraft-2:
    container_name: minecraft-2
    image: itzg/minecraft-server:2026.1.2
    environment:
      EULA: "true"
      TYPE: "PAPER"
      VERSION: "1.21.10"
      ONLINE_MODE: "false"
      VELOCITY_ENABLED: "true"
      VELOCITY_SECRET: {{ secret_minecraft_velocity_secret }}
      SERVER_NAME: PVP
      MODE: "survival"
      DIFFICULTY: "normal"
      MAX_PLAYERS: "16"
      PVP: "true"
      ENABLE_COMMAND_BLOCK: "false"
      SPAWN_PROTECTION: "0"
      VIEW_DISTANCE: "10"
      SIMULATION_DISTANCE: "8"
      PLUGINS: |
        https://hangarcdn.papermc.io/plugins/ViaVersion/ViaVersion/versions/5.6.0/PAPER/ViaVersion-5.6.0.jar
        https://hangarcdn.papermc.io/plugins/ViaVersion/ViaBackwards/versions/5.6.0/PAPER/ViaBackwards-5.6.0.jar
        https://hangarcdn.papermc.io/plugins/ViaVersion/ViaRewind/versions/4.0.12/PAPER/ViaRewind-4.0.12.jar
    networks:
      - minecraft
    volumes:
      - {{ docker_appdata_path }}/minecraft-2:/data
    restart: unless-stopped
